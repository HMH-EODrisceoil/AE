<html><head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Tech Art Buttons Tutorial</title>
	<link rel="icon" type="image/x-icon" href="favicon.ico">
	<link rel="stylesheet" href="style.css">

</head>

<body>
<article id="" class="page sans">
<div class="page-body">
<h1 id="table-of-contents" class="page-title">Tech Art Buttons Tutorial</h1>
<p>Hi everyone, Eoin here! This is a walkthrough of the Tech Art Button Bar script - which is an After Effects ExtendScript file I’ve written with some animation/effect shortcuts that might help with some recurring elements in the Tech Art sections of videos.</p>
<p>First we’ll go through managing script files (how / where they’re installed etc.), followed by a runthrough of the functions in the button bar itself!</p>
<hr>
<p>Here’re some chapter/section links if you’d like to jump ahead:</p>
<div class="indented">
	<ul class="bulleted-list">
		<li style="list-style-type:disc"><strong><a href="#installing">Managing ExtendScripts</a></strong>
			<ul class="bulleted-list">
				<li style="list-style-type:circle">Installing Scripts in AE:
					<ul class="bulleted-list">
						<li style="list-style-type:square"><em><a href="#installing-scripts">Scripts that live under </em><em><strong>File → Scripts</a></strong></em></li>
						<li style="list-style-type:square"><em><a href="#installing-scriptUI-panels">ScriptUI Panels that live under </em><em><strong>Window</a></strong></em></li>
					</ul>
				</li>
				<li style="list-style-type:circle">Deleting/Replacing/Updating Scripts
					<ul class="bulleted-list">
						<li style="list-style-type:square"><a href="#updating-and-deleting-mac">Mac</a></li>
						<li style="list-style-type:square"><a href="#updating-and-deleting-windows">Windows</a></li>
					</ul>
				</li>
				<li style="list-style-type:circle"><a href="#script-permissions">Script Permissions</a></li>
			</ul>
		</li>
		<li style="list-style-type:disc"><strong><a href="#tech-art-buttons">Tech Art Buttons</a></strong>
			<ul class="bulleted-list">
				<li style="list-style-type:circle"><a href="#settings">Settings</a></li>
				<li style="list-style-type:circle"><a href="#transitions">Transitions</a>
					<ul class="bulleted-list">
						<li style="list-style-type:square"><a href="#transitions-fades">Fades</a></li>
						<li style="list-style-type:square"><a href="#transitions-pops">Pops</a></li>
						<li style="list-style-type:square"><a href="#transitions-wipes">Wipes</a></li>
						<li style="list-style-type:square"><a href="#transitions-cross-outs">Cross-Outs</a></li>
						<li style="list-style-type:square"><a href="#transitions-pointer-moves">Pointer Moves</a></li>
					</ul>
				</li>
				<li style="list-style-type:circle"><a href="#hl">Highlights</a>
					<ul class="bulleted-list">
						<li style="list-style-type:square"><a href="#hl-bounce">HL Bounce</a></li>
					</ul>
				</li>
				<li style="list-style-type:circle"><a href="#3D-flips">3D Flips</a>
					<ul class="bulleted-list">
						<li style="list-style-type:square"><a href="#3D-flips-coins-and-cash">Coin / Cash Flip</a></li>
					</ul>
				</li>
				<li style="list-style-type:circle"><a href="#expressions">Expressions</a>
					<ul class="bulleted-list">
						<li style="list-style-type:square"><a href="#expressions-squash">Squash/Stretch</a></li>
						<li style="list-style-type:square"><a href="#expressions-wiggle">Wiggle</a></li>
						<li style="list-style-type:square"><a href="#expressions-COMBO-squash-plus-wiggle">(COMBO) Squash/Stretch + Wiggle</a></li>
					</ul>
				</li>
			</ul>
		</li>
	</ul>
</div>
<p></p>
</article>

<article id="installing" class="page sans">
<h1 id="installing-scripts">Installing / Uninstalling / Updating Scripts</h1><p>There’re a few places scripts can live in After Effects:</p><hr><p>First there’s the <code>File → Scripts</code> menu (for general-purpose ExtendScript files):</p><figure class="image"><a href="file_scripts_menu.png"><img style="width:480px" src="file_scripts_menu.png"></a></figure><p>You can run a script directly through this menu without installing it, using the <code>Run Script File…</code> option. Or you can add a new script into the list at the bottom using <code>Install Script File…</code> !</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p>There’s also the <code>Install ScriptUI Panel…</code> option here for a slightly different type of scripts, which we’ll come back to later! Scripts installed through this option end up under the <code>Window</code> menu, instead of being listed under <code>File → Scripts</code>.</p></div></figure><p>To install the Button Bar here, click <code>File → Scripts → Install Script File…</code> and choose the latest version of the <strong>“HMH Tech Art Buttons.jsxbin”</strong> script. After restarting After Effects, <strong>“HMH Tech Art Buttons.jsxbin”</strong> should now appear under <code>File → Scripts</code> !</p><hr><p id="installing-scriptUI-panels">A second place scripts can live in After Effects is under the <code>Window</code> menu. This section is intended for “ScriptUI Panel” type ExtendScripts, for example <strong>“</strong><strong><a href="https://rxlaboratory.org/tools/duik-angela/">Duik Ángela</a></strong><strong>”</strong>. The main difference with this type of script is that it’s launched through a panel which can be docked into different sections of AE’s interface! ScriptUI Panels can be installed to this section with the <code>File → Scripts → Install ScriptUI Panel…</code> option.</p><figure class="image"><a href="image%201.png"><img style="width:624px" src="image%201.png"></a></figure><p>The Tech Art Bar script does seem to work if you install and run it from the <code>Window</code> list, but it behaves slightly strangely since it’s not set up as a ScriptUI Panel*! It opens an empty Panel which then launches the Button Bar’s window, which’s a bit messy. For that reason I’d recommend installing it into the <code>File → Scripts</code> list instead!</p><p><em>(*I could try to learn how to get it working as a ScriptUI Panel too in future though, if there’s interest! I’m currently a bit confused about it all unfortunately, but I could see how Duik Ángela does it!)</em></p><hr><h3 id="updating-and-deleting-mac">Deleting/Replacing Installed Script Files</h3><p>Next we’ll go through editing/deleting/replacing script files after you’ve installed them.</p><p>After Effect unfortunately doesn’t seem to have an in-built way to change what scripts you’ve installed, so we’ll have to find the relevant folders and edit them ourselves! The locations of these folders are slightly different between Mac / Windows, so I’ll cover them separately:</p><div class="indented"><h3>Mac</h3><p><em><strong>File → Scripts folder</strong></em></p><div class="indented"><p>On Mac, scripts installed through <code>File → Scripts → Install Script File…</code> end up in this user folder:</p><p><code>/Users/<mark class="highlight-purple">&lt;USER NAME&gt;</mark>/Library/Preferences/Adobe/After Effects/<mark class="highlight-purple">&lt;VERSION NUMBER&gt;</mark>/Scripts/</code></p><p>Some of the subfolders along this path are hidden in the <strong>Finder </strong>which can make this tricky to access, but choosing <code>Go → Go to Folder…</code> in <strong>Finder</strong>’s menubar lets you type into the next part of the path if it’s hidden:</p><figure class="image" style="text-align:center"><a href="image%202.png"><img style="width:384px" src="image%202.png"></a></figure><p>
</p><figure class="image" style="text-align:center"><a href="image%203.png"><img style="width:912px" src="image%203.png"></a></figure></div><p></p><p>This should bring you to the Scripts installation folder:</p><figure class="image" style="text-align:center"><a href="image%204.png"><img style="width:1008px" src="image%204.png"></a></figure><p>From here you can remove/replace any scripts as needed! You could paste in the new version of “HMH Tech Art Buttons.jsxbin” here when an update is available, or delete any older versions of the script that might be there under a different filename.</p><p>If you’d like to declutter the <code>File→Scripts</code> list even more, you can also create a new subfolder in the Scripts folder with brackets around its name, for example  <code>(extra)</code> . You could move any scripts you aren’t using in there, and because of the brackets After Effects won’t show those scripts in the menu list!</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p>This Scripts folder also has a <code>Startup</code> subfolder - and as you might expect, any scripts placed here will start as soon as you open After Effects! You could potentially put the <strong>Tech Art Buttons</strong> script in here to save some clicking, but since it’s still a work-in-progress I’d be worried about it potentially causing AE to crash on start-up if I made a mistake somewhere. Maybe it’s better not to for now, but worth a mention anyway!</p></div></figure></div><p></p><p>
</p><p><em><strong>ScriptUI Panel folder</strong></em></p><div class="indented"><p>ScriptUI Panel scripts installed through <code>File → Scripts → Install ScriptUI Panel…</code> <br>end up in a subfolder of the user folder:<br></p><p><code>/Users/<mark class="highlight-purple">&lt;USER NAME&gt;</mark>/Library/Preferences/Adobe/After Effects/<mark class="highlight-purple">&lt;VERSION NUMBER&gt;</mark>/Scripts/ScriptUI Panels/</code></p><p>You can edit this folder as needed too, renaming or removing any scripts that’re <br>cluttering things!<br></p></div><p></p><p><strong>Other script installation folders</strong></p><div class="indented"><p>These folders aren’t used by the <code>Install Script File…</code> and <code>Install ScriptUI Panel…</code> options, but scripts can also be installed under the main After Effects application folder, in these subfolders. Files in these folders will show up in the File→Scripts and Window menus accordingly!</p><p><code>/Applications/Adobe After Effects <mark class="highlight-purple">&lt;YEAR&gt;</mark>/Scripts/</code></p><p><code>/Applications/Adobe After Effects <mark class="highlight-purple">&lt;YEAR&gt;</mark>/Scripts/ScriptUI Panels/</code></p><p>
</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">🎉</span></div><div style="width:100%"><p><a href="#script-permissions">You’ve reached the end of the <strong>Managing ExtendScripts</strong> section (if you’re on Mac)! <br>If you want to skip over the Windows-specific write-up, click<br><strong> </strong>to jump ahead to the section on Script Permissions.</a></p></div></figure></div><p></p><p>
</p><hr><h3 id="updating-and-deleting-windows">Windows</h3><p><em><strong>File → Scripts script folder</strong></em></p><div class="indented"><p>On Windows, scripts installed through <code>File → Scripts → Install Script File…</code> end up in this folder:</p><p><code>C:\Users\<mark class="highlight-purple">&lt;USER NAME&gt;</mark>\AppData\Roaming\Adobe\After Effects\<mark class="highlight-purple">&lt;VERSION NUMBER&gt;</mark>\Scripts</code></p><p>Some of the subfolders along this path are hidden in the <strong>Explorer </strong>which can make this tricky to access, but you can type into the address bar to get to the next part of the path if it’s hidden.</p><p>This should bring you to the Scripts installation folder:</p><figure class="image" style="text-align:center"><a href="image%205.png"><img style="width:912px" src="image%205.png"></a></figure><p>From here you can remove/replace any scripts as needed! You could paste in the new version of “HMH Tech Art Buttons.jsxbin” here when an update is available, or delete any older versions of the script that might be there under a different filename.</p><p>If you’d like to declutter the <code>File→Scripts</code> list even more, you can also create a new subfolder in the Scripts folder with brackets around its name, for example  <code>(extra)</code> . You could move any scripts you aren’t using in there, and because of the brackets After Effects won’t show those scripts in the menu list!</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p>This Scripts folder also has a <code>Startup</code> subfolder - and as you might expect, any scripts placed here will start as soon as you open After Effects! You could potentially put the <strong>Tech Art Buttons</strong> script in here to save some clicking, but since it’s still a work-in-progress I’d be worried about it potentially causing AE to crash on start-up if I made a mistake somewhere. Maybe it’s better not to for now, but worth a mention anyway!</p></div></figure><p>
</p></div><p></p><p><em><strong>ScriptUI Panel folder</strong></em></p><div class="indented"><p>ScriptUI Panel scripts installed through <code>File → Scripts → Install ScriptUI Panel…</code> <br>end up in a subfolder of the user folder:<br></p><p><code>C:\Users\<mark class="highlight-purple">&lt;USER NAME&gt;</mark>\AppData\Roaming\Adobe\After Effects\<mark class="highlight-purple">&lt;VERSION NUMBER&gt;</mark>\Scripts\ScriptUI Panels\</code></p><p>You can edit this folder as needed too, renaming or removing any scripts that’re <br>cluttering things!<br></p></div><p></p><p><strong>Other script installation folders</strong></p><div class="indented"><p>These folders aren’t used by the <code>Install Script File…</code> and <code>Install ScriptUI Panel…</code> options, but scripts can also be installed under the main After Effects application folder, in these subfolders. Files in these folders will show up in the File→Scripts and Window menus accordingly!</p><p><code>C:\Program Files\Adobe\Adobe After Effects <mark class="highlight-purple">&lt;YEAR&gt;</mark>\Support Files\Scripts\</code></p><p><code>C:\Program Files\Adobe\Adobe After Effects <mark class="highlight-purple">&lt;YEAR&gt;</mark>\Support Files\Scripts\ScriptUI Panels\</code></p><p>
</p></div><p></p><hr><h2 id="script-permissions">Script Permissions</h2><p>One last thing to know about setting up scripts is that After Effects has a Preferences option that gives scripts elevated permissions. This lets them perform <a href="#script-permissions-note1">file-related operations*</a>, as well as calling <a href="#script-permissions-note2">system commands**</a>. To enable elevated script permissions, go to <code>Edit → Preferences → Scripting &amp; Expressions…</code> and tick <code>Allow Scripts to Write Files and Access Network</code>:</p><figure class="image"><a href="scripts_permissions.png"><img style="width:768px" src="scripts_permissions.png"></a></figure><p><em id="script-permissions-note1">*Necessary here for buttons that create custom “Pseudo Effect” controls that group a number of sliders/colour controls into a single effect - like the Wiggle expression button!</em></p><p><em id="script-permissions-note2">**Used here to connect to the internet and see if there’s a more recent version of the Tech Art Buttons.</em></p><hr><p>
</p>
</article>

<article id="tech-art-buttons" class="page sans">
<h1>Tech Art Buttons</h1><p>With installation out of the way, here’s the current version of the bar (as of 30/04/2025)!</p><figure class="image no_shadow"><a href="Bar_Info.png"><img style="width:464px" src="Bar_Info.png"></a></figure><p id="#BG-mode-switch">The “<strong>Dark/Light BG</strong>” switch affects the highlight colour used by certain shortcuts (only the <em>HL Bounce</em> currently). Set it according to the background colour of the Tech Art comp you’re animating!</p><hr><h2 id="settings">Settings</h2><div class="column-list"><div style="width:50%" class="column"><figure class="image" style="text-align:center"><a href="image%206.png"><img style="width:332px" src="image%206.png"></a></figure></div><div style="width:50%" class="column"><p>There aren’t many settings at the moment, just an option to check for updates!</p><p>With this enabled the script will connect to the internet on launch and check if there’s a more recent version of the script available<a href="#update-info-link">*</a>. If there is, it should show a pop-up with update info.</p><p><a href="https://hmh-eodrisceoil.github.io/AE/ae_data.json" id="update-info-link">*This is the online JSON file it checks, if you’re curious</a>!</p><p>
</p></div></div><hr><h2 id="transitions">Transitions</h2><p id="transitions-fades"><strong>Fade In/Out</strong></p><figure class="image" style="text-align:center"><a href="image%207.png"><img style="width:84px" src="image%207.png"></a></figure><p>As you’d expect, these just add <strong>Opacity </strong>keyframes to fade in/out the selected layers!</p><figure class="image"><a href="fades.gif"><img style="width:528px" src="fades.gif"></a></figure><p>If the layers are collapsed in the Timeline panel you won’t see the added opacity keyframes at first, but pressing the <code><strong>U</strong></code> key will expand the selected layers to show all keyframed properties.</p><p>
</p><p id="transitions-pops"><strong>Pop In/Out </strong></p><figure class="image"><a href="image%208.png"><img style="width:84px" src="image%208.png"></a></figure><p>Intended for bringing on templates like <strong>Counters</strong>, <strong>Connecting Cubes</strong> etc. (though you could use it for characters too) - this button just sets some <strong>Scale </strong>keyframes with a little bit of bouncy overshoot, bringing the selected layer(s) from (0% → 110% → 100%) of their current scale.</p><p>
</p><figure class="image"><a href="pops.gif"><img style="width:528px" src="pops.gif"></a></figure><p>Because of the “relative scale”, it’s important that the layer has a nonzero scale value when you click to pop in. If the layer started out at 0 scale the script would just make it go from (0% → 0% → 0%)!</p><p>
</p><p id="transitions-wipes"><strong>Wipe In/Out </strong></p><figure class="image"><a href="image%209.png"><img style="width:84px" src="image%209.png"></a></figure><p>This shortcut creates a <strong>“Linear Wipe”</strong> effect on the selected layers (if they don’t already have a Linear Wipe effect with a particular name), and it adds keyframes to the effect’s <strong>“Transition Completion”</strong> and <strong>“Wipe Angle”</strong> properties. It’s intended for wiping between scenes - for example you could wipe off your Tech Art comp in your Main Comp, revealing the Creative comp underneath.</p><figure class="image"><a href="wipes.gif"><img style="width:576px" src="wipes.gif"></a></figure><p>
</p><p>When wiping between comps like this, it’s a good idea to use <code>Alt+]</code> (or <code>⌘+]</code> on Mac) to trim the in/out-points of the different comp layers when they’re no longer/not yet visible. That way After Effects won’t keep rendering them in the background (even though they’re covered up), which can slightly improve After Effect’s atrocious render times!</p><figure class="image"><a href="image%2010.png"><img src="image%2010.png" class="frame-break"></a></figure><p>
</p><p id="transitions-cross-outs"><strong>X Draw On/X Fade Off </strong></p><figure class="image"><a href="image%2011.png"><img style="width:84px" src="image%2011.png"></a></figure><p>These shortcuts are intended to be used with Liam’s templates! The code checks if the selected layers have <strong>“X Draw On”</strong> or <strong>“X Fade Off”</strong> properties in their list of “Essential Properties”, and will add keyframes to them if they do.</p><p>These should work on any templates that have those properties by the way, not just Counters!</p><figure class="image"><a href="crosses.gif"><img style="width:432px" src="crosses.gif"></a></figure><p>
</p><p>
</p><p id="transitions-pointer-moves"><strong>Pointer Move In / Out </strong></p><figure class="image"><a href="image%2012.png"><img style="width:84px" src="image%2012.png"></a></figure><p>These shortcuts are intended to be used with the pointer-style templates Liam introduced for Into Maths (for example the Pencil or Hand)! The shortcut applies a <strong>“Transform”</strong> Effect to the layer (if it doesn’t already have one of a particular name), and adds a keyframe animation to the effect, making the template fade in and arrive at its current position (travelling in one of 8 possible directions).</p><figure class="image"><a href="pointers.gif"><img style="width:432px" src="pointers.gif"></a></figure><p>
</p><p>The Out move does the opposite: fading out and moving the pointer away from its current position, travelling in a particular direction.</p><figure class="image"><a href="image%2013.png"><img style="width:298px" src="image%2013.png"></a></figure><p>You can right-click either of these buttons to bring up a direction selector menu! Your most recently-selected choice on this submenu is saved to the arrow button on the main menu, which might be useful if you’re using a particular in/out direction throughout a Tech Art section.</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">⚠️</span></div><div style="width:100%"><p><strong>NOTE:</strong> because the <strong>“Transform”</strong> effect is a comp-space rasterised effect, it can sometimes behave unexpectedly if the layer it’s applied to is “continuously rasterised”. Depending on the Scale values involved, the pencil template might travel way further away than it should!</p><p>To make things more reliable, I might change this button in future so it doesn’t use a “Transform” effect and instead adds an expression to the layer’s <strong>Position </strong>and <strong>Opacity </strong>properties, maybe with an angle control and percentage slider to choose the pointer move’s direction and progress.</p></div></figure><p>
</p><hr><h2 id="hl">Highlights</h2><p id="hl-bounce"><strong>HL Bounce</strong></p><figure class="image"><a href="image%2014.png"><img style="width:84px" src="image%2014.png"></a></figure><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">⚠️</span></div><div style="width:100%"><p>This button’s behaviour has been changed slightly in the new (April 2025) update!</p><p>Previously it would always add a “<strong>Fill</strong>” Effect to a selected layer (which would cause problems if it wasn’t a text layer), but it’ll now only add the “<strong>Fill</strong>”s to Text layers.</p></div></figure><p>This button can save a nice bit of time when scale-bouncing text / templates as the voice-over draws attention to them! It applies keyframes to the layer’s Scale property relative to the layer’s current scale value, bouncing the layer from (100% → 120% → 100% → 120% → 100%) scale.</p><figure class="image"><a href="bounces.gif"><img style="width:576px" src="bounces.gif"></a></figure><p>If the selected layer is a Text layer, a “<strong>Fill</strong>” effect also will be added (if it doesn’t already have one), and it’ll keyframe the text’s colour from <strong>white </strong>to <strong>orange </strong>to <strong>white </strong>(if <strong><a href="#BG-mode-switch">Dark BG mode</a></strong> is enabled), or <strong>black </strong>→ <strong>blue </strong>→ <strong>black </strong>(if <strong><a href="#BG-mode-switch">Light BG mode</a></strong> is enabled).</p><p>Alternatively, if the layer is one of Liam’s templates and it has a “<strong>HL</strong>” property in its list of “Essential Properties”, the button will keyframe the HL fading in/out in time with the bounce. </p><p>Depending on the template you might only need the HL keyframes and not the Scale keyframes, so be sure to delete the scale aspect of the highlight if it doesn’t really work for a particular template (like say the template for the stack of 1000 blocks!)</p><p>
</p><hr><h2 id="3D-flips">Misc (3D Flips)</h2><p id="3D-flips-coins-and-cash"><strong>Coin / Cash Flip</strong></p><figure class="image"><a href="image%2015.png"><img style="width:84px" src="image%2015.png"></a></figure><p>These two buttons are only really of use in videos that involve the coin and bank note templates.</p><p>They apply keyframes to the layer’s <strong>Scale </strong>and <strong>Rotation Y </strong>properties, giving it a 3D flip from heads to tails! The layer’s 3D switch needs to be enabled for this animation to work properly, so the script will let you know if it’s not currently on (and gives you the choice of quickly setting it on).</p><p>The script checks the layer’s <strong>Rotation Y</strong> value when you apply the animation: so if a coin’s already on tails when you press the button it’ll instead insert an animation flipping from tails-to-heads. The same goes for the bank notes!</p><p>
</p><hr><h2 id="expressions">Expressions</h2><p id="expressions-squash"><strong>Squash/Stretch Rig</strong></p><figure class="image no_shadow"><img style="width:32px" src="acorn_squash.gif"></figure><p>New to the April 2025 version of this script, this button applies a <strong>Squash/Stretch</strong> expression rig to a layer’s <strong>Scale </strong>property, which can be controlled through a Squash/Stretch slider that gets added to the layer!</p><p>This is the expression it applies:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerpolicy="no-referrer"><pre class="code language-javascript" tabindex="0"><code class="language-javascript"><span class="token keyword">var</span> squash <span class="token operator">=</span> <span class="token function">effect</span><span class="token punctuation">(</span><span class="token string">"Squash/Stretch"</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">100</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">instanceof</span> <span class="token class-name">Array</span> <span class="token operator">&amp;&amp;</span> value<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span>
	<span class="token punctuation">[</span>value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> squash<span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> squash<span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> squash<span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">else</span>
	<span class="token punctuation">[</span>value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> squash<span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> squash<span class="token punctuation">)</span><span class="token punctuation">]</span></code></pre><p>The expression should work regardless of if it’s a 2D/3D layer!</p><p>By default the button applies the expression to the layer’s <strong>Scale </strong>property, but it can also be applied to Shape Layers’ nested groups (since they have their own separate transform properties). To do this, select the shape group’s Scale property (named “<strong>Vector Scale</strong>” internally) instead of just selecting the layer itself! Note that unlike a regular <strong>Scale </strong>squash rig, a shape group’s <strong>Vector Scale</strong> squash rig won’t affect the scaling of any child layers parented to the layer.</p><p><em>(I didn’t really know what to use as an icon for this one, so I picked a squashy acorn character from one of my Waggle videos!)</em></p><p>
</p><hr><p>
</p><p id="expressions-wiggle"><strong>Wiggle Rig</strong></p><figure class="image no_shadow"><a href="wiggle_B.gif"><img style="width:32px" src="wiggle_B.gif"></a></figure><p class="caption aside"><em>(Pictured: me after two cups of coffee tbh. <br>I also didn’t really know what to use as an icon here, so I went with wiggling a Waggle character!)<br></em></p><p>New to the April 2025 version of this script, this button applies a <strong>Wiggle </strong>expression rig to <strong>any </strong>selected layer property (or the <strong>Scale </strong>property by default - i.e. if just the layer itself is selected without selecting any specific layer property)! </p><p>It also adds a Wiggle “Pseudo-Effect” to the layer, which you can use to control the wiggles <br>(insofar as any person can/should control their wiggles):<br></p><figure class="image"><a href="image%2016.png"><img style="width:232px" src="image%2016.png"></a></figure><p>The wiggle is intended to be used to add a little bit of subtle motion to background characters within the limited animation style used for Into Math. You can definitely get creative with it - for example I applied it to the butterflies’ wings’ 3D <strong>Y Rotation</strong> to quickly give them a little bit of fluttering! It could be worth trying on the <strong>Position </strong>property as well!</p><p>This effect has these controls:</p><ul class="bulleted-list"><li style="list-style-type:disc"><strong>Frequency </strong>(any positive value, default 5)<p>The number of wiggles per second (how often to wiggle)</p></li></ul><ul class="bulleted-list"><li style="list-style-type:disc"><strong>Amplitude </strong>(any value, default 20)<p>The size of the wiggles (how much to wiggle the property). Decides how far away the wiggles can get from the property’s starting value (for example with an amplitude of 20 and an initial positionX of 100, the positionX value bounces around the 80-120 range, i.e. 20 units away on either side of the base value 100)</p></li></ul><ul class="bulleted-list"><li style="list-style-type:disc"><strong>Loop Seconds </strong>(any positive value, default 20)<p>How long until the wiggles seamlessly loop back to the start of their motion. This can be handy if you have a short idle loop of a character (say 4 seconds long), and want to ensure some wiggling aspect (maybe hair fluttering in the wind) doesn’t jump jarringly when the timeline loops back around from 4s to 0s.</p></li></ul><ul class="bulleted-list"><li style="list-style-type:disc"><strong>Random Seed </strong>(either -1 or any positive value, default -1)<p>A fairly situational one here that you can usually ignore (leaving it at -1)! </p><p>The way a randomised animation plays out in After Effects is by default determined by a layer’s overall index in its comp (shown in the # column of the timeline panel!) If you add new layers above a wiggly layer, or otherwise reorder the wiggly layer within its comp, you might notice that the way its randomised animation plays out suddenly changes. Sometimes it changes unfavourably, and it might now brush up against other layers in ways it previously didn’t, causing awkward tangents.</p><p>To avoid this, you can use a positive <strong>“Random Seed”</strong> value to lock down the randomness so it always plays out a specific way*! It effectively means the “throw of the dice” will always be the same no matter how you index the layer in the comp, since it’s instead determined by that seed number. So if you give two wiggly properties/layers the same seed number, they’ll wiggle in perfect sync! This can be useful in some situations.</p><p><em>(*The way it does this is: a positive value will call the </em><em><code>seedRandom(wiggleSeed, true)</code></em><em> function in the expression, locking the randomness to that wiggleSeed number instead of the layer index! The second argument just makes the result vary in time.)</em></p></li></ul><p>As notekeeping, here’s the expression that gets applied to the target property:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerpolicy="no-referrer"><pre class="code language-javascript" tabindex="0"><code class="language-javascript"><span class="token keyword">var</span> control <span class="token operator">=</span> <span class="token function">effect</span><span class="token punctuation">(</span><span class="token string">"Wiggle &lt;PropertyName&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
frequency <span class="token operator">=</span> <span class="token function">control</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//wiggles per second</span>
amplitude <span class="token operator">=</span> <span class="token function">control</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//amount to wiggle</span>
secondsToLoop <span class="token operator">=</span> <span class="token function">control</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//time until seamless repeat</span>
wiggleSeed <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token function">control</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//can sync different wiggles</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>wiggleSeed <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token function">seedRandom</span><span class="token punctuation">(</span>wiggleSeed<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

t <span class="token operator">=</span> time <span class="token operator">%</span> secondsToLoop<span class="token punctuation">;</span>
wiggle1 <span class="token operator">=</span> <span class="token function">wiggle</span><span class="token punctuation">(</span>frequency<span class="token punctuation">,</span> amplitude<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
wiggle2 <span class="token operator">=</span> <span class="token function">wiggle</span><span class="token punctuation">(</span>frequency<span class="token punctuation">,</span> amplitude<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> t <span class="token operator">-</span> secondsToLoop<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">linear</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> secondsToLoop<span class="token punctuation">,</span> wiggle1<span class="token punctuation">,</span> wiggle2<span class="token punctuation">)</span></code></pre><p>
</p><hr><p id="expressions-COMBO-squash-plus-wiggle"><strong>(COMBO) Squash/Stretch + Wiggle Rig</strong></p><figure class="image"><a href="image%2017.png"><img style="width:84px" src="image%2017.png"></a></figure><p>Using the two buttons above you can apply a <strong>Squash/Stretch</strong> expression to a <strong>Scale </strong>property, or you could apply a <strong>Wiggle </strong>expression to the <strong>Scale </strong>property.</p><p>But what if you wanted to Squash and Stretch <em>and </em>Wiggle<strong> </strong>at the same time? Animators and philosophers have long pondered this question, and at last there may be an answer: yeah you can!</p><p>If you try to apply a <strong>Wiggle </strong>rig to a layer that already has a <strong>Squash/Stretch</strong> rig (or vice versa), it’ll replace the expression with a special <strong>Squash/Stretch + Wiggle</strong> combo rig! The controls are all the same, it’s just the expression that’s different.</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">⚠️</span></div><div style="width:100%"><p><strong>NOTE:</strong> this combo idea was a bit of a logistical nightmare (particularly figuring out if the current expression is a “known” expression, since the names of the controller Effects can vary), so I wouldn’t be surprised if I forgot something and it can occasionally mess up! Please gimme a shout if there’re any issues!</p></div></figure><p>For notekeeping, here’s the expression it applies:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerpolicy="no-referrer"><pre class="code language-javascript" tabindex="0"><code class="language-javascript"><span class="token comment">//COMBO: WIGGLE &amp; SQUASH/STRETCH</span>
<span class="token keyword">var</span> control <span class="token operator">=</span> <span class="token function">effect</span><span class="token punctuation">(</span><span class="token string">"Wiggle Scale"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
frequency <span class="token operator">=</span> <span class="token function">control</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//wiggles per second</span>
amplitude <span class="token operator">=</span> <span class="token function">control</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//amount to wiggle</span>
secondsToLoop <span class="token operator">=</span> <span class="token function">control</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//time until seamless repeat</span>
wiggleSeed <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token function">control</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//can sync different wiggles</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>wiggleSeed <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token function">seedRandom</span><span class="token punctuation">(</span>wiggleSeed<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

t <span class="token operator">=</span> time <span class="token operator">%</span> secondsToLoop<span class="token punctuation">;</span>
wiggle1 <span class="token operator">=</span> <span class="token function">wiggle</span><span class="token punctuation">(</span>frequency<span class="token punctuation">,</span> amplitude<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
wiggle2 <span class="token operator">=</span> <span class="token function">wiggle</span><span class="token punctuation">(</span>frequency<span class="token punctuation">,</span> amplitude<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> t <span class="token operator">-</span> secondsToLoop<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> wiggle_out <span class="token operator">=</span> <span class="token function">linear</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> secondsToLoop<span class="token punctuation">,</span> wiggle1<span class="token punctuation">,</span> wiggle2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> squash <span class="token operator">=</span> <span class="token function">effect</span><span class="token punctuation">(</span><span class="token string">"Squash/Stretch"</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">100</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">instanceof</span> <span class="token class-name">Array</span> <span class="token operator">&amp;&amp;</span> value<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">[</span>wiggle_out<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> squash<span class="token punctuation">)</span><span class="token punctuation">,</span> wiggle_out<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> squash<span class="token punctuation">)</span><span class="token punctuation">,</span> wiggle_out<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> squash<span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">else</span>
    <span class="token punctuation">[</span>wiggle_out<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> squash<span class="token punctuation">)</span><span class="token punctuation">,</span> wiggle_out<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> squash<span class="token punctuation">)</span><span class="token punctuation">]</span></code></pre></div></article>



</body>


<script>
	/** A helper class for smoothly scrolling between sections, using quadratic interpolation! */
	class Scroll {
		static instance = undefined;

		constructor(duration){
			this.start = null;
			this.end = null;
			this.t_value = 0;
			this.previous_time = null;
			
			this.fps = 60;
			this.duration = duration == undefined ? 1 : duration;

			this.interval = null;
		}

		startScroll(element){
			if (!element)
				return;

			if (this.interval)
				this.endScroll();

			this.start = window.scrollY;
			this.end = element.getBoundingClientRect().top + window.scrollY;
			this.t_value = 0;
			this.previous_time = null;

			this.interval = setInterval(this.update.bind(this), 1/this.fps);
		}

		endScroll(){
			clearInterval(this.interval);
			this.interval = null;

			this.start = null;
			this.end = null;
			this.t_value = 0;
			this.previous_time = null;
		}

		update(){
			const deltaTime = this.previous_time == undefined ?
				0 : Date.now() - this.previous_time;

			this.t_value += deltaTime/(this.duration*1000);
			this.previous_time = Date.now();

			const start = this.start;
			const end = this.end;

			const result = start + (end - start)*this.easeInOutQuart(this.t_value);

			if (this.t_value >= 1){
				window.scrollTo({
					top: end,
				});
				this.endScroll();
			} else { 
				window.scrollTo({
					top: result,
				});
			}
		}

		/** From http://www.easings.net */
		easeInOutQuart(x) {
			return x < 0.5 ? 8 * x * x * x * x : 1 - Math.pow(-2 * x + 2, 4) / 2;
		}

		/** Replaces a local section link with an onclick function */
		static replaceSectionLinkWithScrollTos(anchor){
			const href_pieces = anchor.getAttribute("href")?.split("#");
			if (!href_pieces || href_pieces.length < 2)
				return;

			const sectionID = href_pieces[href_pieces.length - 1];

			const section = document.getElementById(sectionID);
			if (!section)
				return;

			anchor.removeAttribute("href");
			anchor.setAttribute("onclick", `Scroll.scrollToSection('${sectionID}')`);
		}

		/** Iterates over the anchors, applying scrolls to any local section links */
		static replaceAllSectionLinksWithScrollTos(){
			for (let anchor of document.getElementsByTagName("a")) {
				Scroll.replaceSectionLinkWithScrollTos(anchor);
			}
		}

		/** Scrolls to a particular section using a DOM element ID */
		static scrollToSection(sectionID){
			const section = document.getElementById(sectionID);
			if (!section)
				return;
			Scroll.instance.startScroll(section);
			Scroll.updateHistory(sectionID);
		}

		/** Updates the URL's section hash, so it can easily be copy-pasted */
		static updateHistory(sectionID){
			const stateObj = {};
			history.pushState(stateObj, "", document.location.pathname + "#" + sectionID);
		}

		/** Applies the scroll behaviour */
		static init(){
			Scroll.instance = new Scroll();
			Scroll.replaceAllSectionLinksWithScrollTos();
		}
	}

	Scroll.init();

</script>

</html>
